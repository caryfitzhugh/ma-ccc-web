!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("leaflet"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","leaflet","react","react-dom"],e):e(t.ReactLeaflet={},t.L,t.React,t.ReactDOM)}(this,function(t,e,n,r){"use strict";function o(t){return function(){return t}}function i(t){var e=Je.call(t,Ye),n=t[Ye];try{t[Ye]=void 0;var r=!0}catch(t){}var o=He.call(t);return r&&(e?t[Ye]=n:delete t[Ye]),o}function a(t){return Ke.call(t)}function l(t){return null==t?void 0===t?Xe:Qe:tn&&tn in Object(t)?i(t):a(t)}function u(t){return null!=t&&"object"==typeof t}function p(t){return"symbol"==typeof t||u(t)&&l(t)==en}function s(t,e){if(Ve(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!p(t))||(rn.test(t)||!nn.test(t)||null!=e&&t in Object(e))}function c(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function f(t){if(!c(t))return!1;var e=l(t);return e==an||e==ln||e==on||e==un}function h(t){return!!sn&&sn in t}function y(t){if(null!=t){try{return cn.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function d(t){return!(!c(t)||h(t))&&(f(t)?bn:hn).test(y(t))}function m(t,e){return null==t?void 0:t[e]}function v(t,e){var n=m(t,e);return d(n)?n:void 0}function b(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function g(t,e){return t===e||t!==t&&e!==e}function E(t,e){for(var n=t.length;n--;)if(g(t[n][0],e))return n;return-1}function j(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function O(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function _(t,e){var n=t.__data__;return O(e)?n["string"==typeof e?"string":"hash"]:n.map}function w(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ln);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(C.Cache||w),n}function L(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function x(t){if("string"==typeof t)return t;if(Ve(t))return L(t,x)+"";if(p(t))return Mn?Mn.call(t):"";var e=t+"";return"0"==e&&1/t==-In?"-0":e}function T(t){return null==t?"":x(t)}function P(t,e){return Ve(t)?t:s(t,e)?[t]:zn(T(t))}function A(t){if("string"==typeof t||p(t))return t;var e=t+"";return"0"==e&&1/t==-Rn?"-0":e}function z(t,e){for(var n=0,r=(e=P(e,t)).length;null!=t&&n<r;)t=t[A(e[n++])];return n&&n==r?t:void 0}function I(t,e,n){"__proto__"==e&&Un?Un(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function S(t,e,n){var r=t[e];kn.call(t,e)&&g(r,n)&&(void 0!==n||e in t)||I(t,e,n)}function M(t,e){return!!(e=null==e?Bn:e)&&("number"==typeof t||Dn.test(t))&&t>-1&&t%1==0&&t<e}function R(t,e,n,r){if(!c(t))return t;for(var o=-1,i=(e=P(e,t)).length,a=i-1,l=t;null!=l&&++o<i;){var u=A(e[o]),p=n;if(o!=a){var s=l[u];void 0===(p=r?r(s,u,l):void 0)&&(p=c(s)?s:M(e[o+1])?[]:{})}S(l,u,p),l=l[u]}return t}function U(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],l=z(t,a);n(l,a)&&R(i,P(a,t),l)}return i}function k(t,e){return null!=t&&e in Object(t)}function B(t){return u(t)&&l(t)==Wn}function D(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$n}function W(t,e,n){for(var r=-1,o=(e=P(e,t)).length,i=!1;++r<o;){var a=A(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&D(o)&&M(a,o)&&(Ve(t)||Fn(t))}function N(t,e){return null!=t&&W(t,e,k)}function V(t,e){return U(t,e,function(e,n){return N(t,n)})}function q(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function F(t){return Ve(t)||Fn(t)||!!(Gn&&t&&t[Gn])}function $(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=F),o||(o=[]);++i<a;){var l=t[i];e>0&&n(l)?e>1?$(l,e-1,n,r,o):q(o,l):r||(o[o.length]=l)}return o}function G(t){return(null==t?0:t.length)?$(t,1):[]}function Z(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function J(t,e,n){return e=Zn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Zn(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=r[o];return l[e]=n(a),Z(t,this,l)}}function H(t){return function(){return t}}function Y(t){return t}function K(t){return Qn(J(t,void 0,G),t+"")}function Q(t){var e=this.__data__=new j(t);this.size=e.size}function X(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new w;++e<n;)this.add(t[e])}function tt(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function et(t,e){return t.has(e)}function nt(t,e,n,r,o,i){var a=n&nr,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var p=i.get(t);if(p&&i.get(e))return p==e;var s=-1,c=!0,f=n&rr?new X:void 0;for(i.set(t,e),i.set(e,t);++s<l;){var h=t[s],y=e[s];if(r)var d=a?r(y,h,s,e,t,i):r(h,y,s,t,e,i);if(void 0!==d){if(d)continue;c=!1;break}if(f){if(!tt(e,function(t,e){if(!et(f,e)&&(h===t||o(h,t,n,r,i)))return f.push(e)})){c=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){c=!1;break}}return i.delete(t),i.delete(e),c}function rt(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function ot(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function it(t,e,n,r,o,i,a){switch(n){case vr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case mr:return!(t.byteLength!=e.byteLength||!i(new or(t),new or(e)));case lr:case ur:case cr:return g(+t,+e);case pr:return t.name==e.name&&t.message==e.message;case fr:case yr:return t==e+"";case sr:var l=rt;case hr:var u=r&ir;if(l||(l=ot),t.size!=e.size&&!u)return!1;var p=a.get(t);if(p)return p==e;r|=ar,a.set(t,e);var s=nt(l(t),l(e),r,o,i,a);return a.delete(t),s;case dr:if(gr)return gr.call(t)==gr.call(e)}return!1}function at(t,e,n){var r=e(t);return Ve(t)?r:q(r,n(t))}function lt(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function ut(){return[]}function pt(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function st(t,e){var n=Ve(t),r=!n&&Fn(t),o=!n&&!r&&Lr(t),i=!n&&!r&&!o&&Sr(t),a=n||r||o||i,l=a?pt(t.length,String):[],u=l.length;for(var p in t)!e&&!Mr.call(t,p)||a&&("length"==p||o&&("offset"==p||"parent"==p)||i&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||M(p,u))||l.push(p);return l}function ct(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rr)}function ft(t,e){return function(n){return t(e(n))}}function ht(t){if(!ct(t))return Ur(t);var e=[];for(var n in Object(t))kr.call(t,n)&&"constructor"!=n&&e.push(n);return e}function yt(t){return null!=t&&D(t.length)&&!f(t)}function dt(t){return yt(t)?st(t):ht(t)}function mt(t){return at(t,dt,Or)}function vt(t,e,n,r,o,i){var a=n&Br,l=mt(t),u=l.length;if(u!=mt(e).length&&!a)return!1;for(var p=u;p--;){var s=l[p];if(!(a?s in e:Dr.call(e,s)))return!1}var c=i.get(t);if(c&&i.get(e))return c==e;var f=!0;i.set(t,e),i.set(e,t);for(var h=a;++p<u;){var y=t[s=l[p]],d=e[s];if(r)var m=a?r(d,y,s,e,t,i):r(y,d,s,t,e,i);if(!(void 0===m?y===d||o(y,d,n,r,i):m)){f=!1;break}h||(h="constructor"==s)}if(f&&!h){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(f=!1)}return i.delete(t),i.delete(e),f}function bt(t,e,n,r,o,i){var a=Ve(t),l=Ve(e),u=a?Xr:Yr(t),p=l?Xr:Yr(e),s=(u=u==Qr?to:u)==to,c=(p=p==Qr?to:p)==to,f=u==p;if(f&&Lr(t)){if(!Lr(e))return!1;a=!0,s=!1}if(f&&!s)return i||(i=new Q),a||Sr(t)?nt(t,e,n,r,o,i):it(t,e,u,n,r,o,i);if(!(n&Kr)){var h=s&&eo.call(t,"__wrapped__"),y=c&&eo.call(e,"__wrapped__");if(h||y){var d=h?t.value():t,m=y?e.value():e;return i||(i=new Q),o(d,m,n,r,i)}}return!!f&&(i||(i=new Q),vt(t,e,n,r,o,i))}function gt(t,e,n,r,o){return t===e||(null==t||null==e||!u(t)&&!u(e)?t!==t&&e!==e:bt(t,e,n,r,gt,o))}function Et(t,e){return gt(t,e)}function jt(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Ot(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<i;){var u=(l=n[o])[0],p=t[u],s=l[1];if(a&&l[2]){if(void 0===p&&!(u in t))return!1}else{var c=new Q;if(r)var f=r(p,s,u,t,e,c);if(!(void 0===f?gt(s,p,oo|io,r,c):f))return!1}}return!0}function _t(t){return t===t&&!c(t)}function wt(t){for(var e=dt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,_t(o)]}return e}function Ct(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function Lt(t){var e=wt(t);return 1==e.length&&e[0][2]?Ct(e[0][0],e[0][1]):function(n){return n===t||Ot(n,t,e)}}function xt(t,e,n){var r=null==t?void 0:z(t,e);return void 0===r?n:r}function Tt(t,e){return s(t)&&_t(e)?Ct(A(t),e):function(n){var r=xt(n,t);return void 0===r&&r===e?N(n,t):gt(e,r,ao|lo)}}function Pt(t){return function(e){return null==e?void 0:e[t]}}function At(t){return function(e){return z(e,t)}}function zt(t){return s(t)?Pt(A(t)):At(t)}function It(t){return"function"==typeof t?t:null==t?Y:"object"==typeof t?Ve(t)?Tt(t[0],t[1]):Lt(t):zt(t)}function St(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function Mt(t,e,n){var r=Ve(t)?jt:St,o=arguments.length<3;return r(t,It(e,4),n,o,ro)}function Rt(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ut(t){return"function"==typeof t?t:Y}function kt(t,e){return(Ve(t)?Rt:ro)(t,Ut(e))}function Bt(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var l=e[i],u=r?r(n[l],t[l],l,n,t):void 0;void 0===u&&(u=t[l]),o?I(n,l,u):S(n,l,u)}return n}function Dt(t,e){return t&&Bt(e,dt(e),t)}function Wt(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function Nt(t){if(!c(t))return Wt(t);var e=ct(t),n=[];for(var r in t)("constructor"!=r||!e&&uo.call(t,r))&&n.push(r);return n}function Vt(t){return yt(t)?st(t,!0):Nt(t)}function qt(t,e){return t&&Bt(e,Vt(e),t)}function Ft(t,e){if(e)return t.slice();var n=t.length,r=fo?fo(n):new t.constructor(n);return t.copy(r),r}function $t(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Gt(t,e){return Bt(t,Or(t),e)}function Zt(t,e){return Bt(t,yo(t),e)}function Jt(t){return at(t,Vt,yo)}function Ht(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&mo.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Yt(t){var e=new t.constructor(t.byteLength);return new or(e).set(new or(t)),e}function Kt(t,e){var n=e?Yt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Qt(t,e){return t.set(e[0],e[1]),t}function Xt(t,e,n){return jt(e?n(rt(t),vo):rt(t),Qt,new t.constructor)}function te(t){var e=new t.constructor(t.source,bo.exec(t));return e.lastIndex=t.lastIndex,e}function ee(t,e){return t.add(e),t}function ne(t,e,n){return jt(e?n(ot(t),go):ot(t),ee,new t.constructor)}function re(t){return jo?Object(jo.call(t)):{}}function oe(t,e){var n=e?Yt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ie(t,e,n,r){var o=t.constructor;switch(e){case Ao:return Yt(t);case Oo:case _o:return new o(+t);case zo:return Kt(t,r);case Io:case So:case Mo:case Ro:case Uo:case ko:case Bo:case Do:case Wo:return oe(t,r);case wo:return Xt(t,r,n);case Co:case To:return new o(t);case Lo:return te(t);case xo:return ne(t,r,n);case Po:return re(t)}}function ae(t){return"function"!=typeof t.constructor||ct(t)?{}:Vo(ho(t))}function le(t,e,n,r,o,i){var a,l=e&qo,u=e&Fo,p=e&$o;if(n&&(a=o?n(t,r,o,i):n(t)),void 0!==a)return a;if(!c(t))return t;var s=Ve(t);if(s){if(a=Ht(t),!l)return $t(t,a)}else{var f=Yr(t),h=f==Zo||f==Jo;if(Lr(t))return Ft(t,l);if(f==Ho||f==Go||h&&!o){if(a=u||h?{}:ae(t),!l)return u?Zt(t,qt(a,t)):Gt(t,Dt(a,t))}else{if(!Yo[f])return o?t:{};a=ie(t,f,le,l)}}i||(i=new Q);var y=i.get(t);if(y)return y;i.set(t,a);var d=p?u?Jt:mt:u?keysIn:dt,m=s?void 0:d(t);return Rt(m||t,function(r,o){m&&(r=t[o=r]),S(a,o,le(r,e,n,o,t,i))}),a}function ue(t){return le(t,Ko)}function pe(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}function se(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function ce(t,e){return e.length<2?t:z(t,se(e,0,-1))}function fe(t,e){return e=P(e,t),null==(t=ce(t,e))||delete t[A(pe(e))]}function he(t){if(!u(t)||l(t)!=mi)return!1;var e=ho(t);if(null===e)return!0;var n=Ei.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&gi.call(n)==ji}function ye(t){return he(t)?void 0:t}function de(t){return void 0===t}function me(t){var e=++xi;return T(t)+e}var ve="default"in n?n.default:n,be=function(){};be.thatReturns=o,be.thatReturnsFalse=o(!1),be.thatReturnsTrue=o(!0),be.thatReturnsNull=o(null),be.thatReturnsThis=function(){return this},be.thatReturnsArgument=function(t){return t};var ge=be,Ee=function(t,e,n,r,o,i,a,l){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,r,o,i,a,l],s=0;(u=new Error(e.replace(/%s/g,function(){return p[s++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},je="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Oe=function(){function t(t,e,n,r,o,i){i!==je&&Ee(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=ge,n.PropTypes=n,n},_e=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){t.exports=Oe()}),we=_e.oneOfType([_e.arrayOf(_e.number),_e.shape({lat:_e.number,lng:_e.number}),_e.shape({lat:_e.number,lon:_e.number})]),Ce=_e.arrayOf(we),Le=_e.oneOfType([_e.instanceOf(e.LatLngBounds),Ce]),xe=_e.oneOfType([_e.arrayOf(_e.node),_e.node]),Te=_e.oneOf(["topleft","topright","bottomleft","bottomright"]),Pe=_e.object,Ae=_e.shape({addLayer:_e.func.isRequired,removeLayer:_e.func.isRequired}),ze=_e.instanceOf(e.Map),Ie=_e.shape({center:we,zoom:_e.number}),Se=Object.freeze({bounds:Le,children:xe,controlPosition:Te,latlng:we,latlngList:Ce,layer:Pe,layerContainer:Ae,map:ze,viewport:Ie}),Me=(function(){function t(t){this.value=t}function e(e){function n(o,i){try{var a=e[o](i),l=a.value;l instanceof t?Promise.resolve(l.value).then(function(t){n("next",t)},function(t){n("throw",t)}):r(a.done?"return":"normal",a.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(t,e){return new Promise(function(r,a){var l={key:t,arg:e,resolve:r,reject:a,next:null};i?i=i.next=l:(o=i=l,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),Re=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ke=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Be=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},De=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},We=function(t){function e(){return Me(this,e),De(this,t.apply(this,arguments))}return ke(e,t),e.prototype.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},e.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setPosition(e.position)},e.prototype.componentWillMount=function(){this.leafletElement=this.createLeafletElement(this.props)},e.prototype.componentDidMount=function(){this.leafletElement.addTo(this.context.map)},e.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},e.prototype.componentWillUnmount=function(){this.leafletElement.remove()},e.prototype.render=function(){return null},e}(n.Component);We.propTypes={position:Te},We.contextTypes={map:ze};var Ne=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Attribution(t)},n}(We);Ne.propTypes={position:Te,prefix:_e.string};var Ve=Array.isArray,qe="object"==typeof global&&global&&global.Object===Object&&global,Fe="object"==typeof self&&self&&self.Object===Object&&self,$e=qe||Fe||Function("return this")(),Ge=$e.Symbol,Ze=Object.prototype,Je=Ze.hasOwnProperty,He=Ze.toString,Ye=Ge?Ge.toStringTag:void 0,Ke=Object.prototype.toString,Qe="[object Null]",Xe="[object Undefined]",tn=Ge?Ge.toStringTag:void 0,en="[object Symbol]",nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rn=/^\w*$/,on="[object AsyncFunction]",an="[object Function]",ln="[object GeneratorFunction]",un="[object Proxy]",pn=$e["__core-js_shared__"],sn=function(){var t=/[^.]+$/.exec(pn&&pn.keys&&pn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),cn=Function.prototype.toString,fn=/[\\^$.*+?()[\]{}|]/g,hn=/^\[object .+?Constructor\]$/,yn=Function.prototype,dn=Object.prototype,mn=yn.toString,vn=dn.hasOwnProperty,bn=RegExp("^"+mn.call(vn).replace(fn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gn=v(Object,"create"),En="__lodash_hash_undefined__",jn=Object.prototype.hasOwnProperty,On=Object.prototype.hasOwnProperty,_n="__lodash_hash_undefined__";b.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},b.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},b.prototype.get=function(t){var e=this.__data__;if(gn){var n=e[t];return n===En?void 0:n}return jn.call(e,t)?e[t]:void 0},b.prototype.has=function(t){var e=this.__data__;return gn?void 0!==e[t]:On.call(e,t)},b.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gn&&void 0===e?_n:e,this};var wn=Array.prototype.splice;j.prototype.clear=function(){this.__data__=[],this.size=0},j.prototype.delete=function(t){var e=this.__data__,n=E(e,t);return!(n<0||(n==e.length-1?e.pop():wn.call(e,n,1),--this.size,0))},j.prototype.get=function(t){var e=this.__data__,n=E(e,t);return n<0?void 0:e[n][1]},j.prototype.has=function(t){return E(this.__data__,t)>-1},j.prototype.set=function(t,e){var n=this.__data__,r=E(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Cn=v($e,"Map");w.prototype.clear=function(){this.size=0,this.__data__={hash:new b,map:new(Cn||j),string:new b}},w.prototype.delete=function(t){var e=_(this,t).delete(t);return this.size-=e?1:0,e},w.prototype.get=function(t){return _(this,t).get(t)},w.prototype.has=function(t){return _(this,t).has(t)},w.prototype.set=function(t,e){var n=_(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Ln="Expected a function";C.Cache=w;var xn=500,Tn=/^\./,Pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,An=/\\(\\)?/g,zn=function(t){var e=C(t,function(t){return n.size===xn&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Tn.test(t)&&e.push(""),t.replace(Pn,function(t,n,r,o){e.push(r?o.replace(An,"$1"):n||t)}),e}),In=1/0,Sn=Ge?Ge.prototype:void 0,Mn=Sn?Sn.toString:void 0,Rn=1/0,Un=function(){try{var t=v(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),kn=Object.prototype.hasOwnProperty,Bn=9007199254740991,Dn=/^(?:0|[1-9]\d*)$/,Wn="[object Arguments]",Nn=Object.prototype,Vn=Nn.hasOwnProperty,qn=Nn.propertyIsEnumerable,Fn=B(function(){return arguments}())?B:function(t){return u(t)&&Vn.call(t,"callee")&&!qn.call(t,"callee")},$n=9007199254740991,Gn=Ge?Ge.isConcatSpreadable:void 0,Zn=Math.max,Jn=Un?function(t,e){return Un(t,"toString",{configurable:!0,enumerable:!1,value:H(e),writable:!0})}:Y,Hn=800,Yn=16,Kn=Date.now,Qn=function(t){var e=0,n=0;return function(){var r=Kn(),o=Yn-(r-n);if(n=r,o>0){if(++e>=Hn)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Jn),Xn=K(function(t,e){return null==t?{}:V(t,e)}),tr=200;Q.prototype.clear=function(){this.__data__=new j,this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Q.prototype.get=function(t){return this.__data__.get(t)},Q.prototype.has=function(t){return this.__data__.has(t)},Q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof j){var r=n.__data__;if(!Cn||r.length<tr-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new w(r)}return n.set(t,e),this.size=n.size,this};var er="__lodash_hash_undefined__";X.prototype.add=X.prototype.push=function(t){return this.__data__.set(t,er),this},X.prototype.has=function(t){return this.__data__.has(t)};var nr=1,rr=2,or=$e.Uint8Array,ir=1,ar=2,lr="[object Boolean]",ur="[object Date]",pr="[object Error]",sr="[object Map]",cr="[object Number]",fr="[object RegExp]",hr="[object Set]",yr="[object String]",dr="[object Symbol]",mr="[object ArrayBuffer]",vr="[object DataView]",br=Ge?Ge.prototype:void 0,gr=br?br.valueOf:void 0,Er=Object.prototype.propertyIsEnumerable,jr=Object.getOwnPropertySymbols,Or=jr?function(t){return null==t?[]:(t=Object(t),lt(jr(t),function(e){return Er.call(t,e)}))}:ut,_r="object"==typeof t&&t&&!t.nodeType&&t,wr=_r&&"object"==typeof module&&module&&!module.nodeType&&module,Cr=wr&&wr.exports===_r?$e.Buffer:void 0,Lr=(Cr?Cr.isBuffer:void 0)||function(){return!1},xr={};xr["[object Float32Array]"]=xr["[object Float64Array]"]=xr["[object Int8Array]"]=xr["[object Int16Array]"]=xr["[object Int32Array]"]=xr["[object Uint8Array]"]=xr["[object Uint8ClampedArray]"]=xr["[object Uint16Array]"]=xr["[object Uint32Array]"]=!0,xr["[object Arguments]"]=xr["[object Array]"]=xr["[object ArrayBuffer]"]=xr["[object Boolean]"]=xr["[object DataView]"]=xr["[object Date]"]=xr["[object Error]"]=xr["[object Function]"]=xr["[object Map]"]=xr["[object Number]"]=xr["[object Object]"]=xr["[object RegExp]"]=xr["[object Set]"]=xr["[object String]"]=xr["[object WeakMap]"]=!1;var Tr="object"==typeof t&&t&&!t.nodeType&&t,Pr=Tr&&"object"==typeof module&&module&&!module.nodeType&&module,Ar=Pr&&Pr.exports===Tr&&qe.process,zr=function(){try{return Ar&&Ar.binding&&Ar.binding("util")}catch(t){}}(),Ir=zr&&zr.isTypedArray,Sr=Ir?function(t){return function(e){return t(e)}}(Ir):function(t){return u(t)&&D(t.length)&&!!xr[l(t)]},Mr=Object.prototype.hasOwnProperty,Rr=Object.prototype,Ur=ft(Object.keys,Object),kr=Object.prototype.hasOwnProperty,Br=1,Dr=Object.prototype.hasOwnProperty,Wr=v($e,"DataView"),Nr=v($e,"Promise"),Vr=v($e,"Set"),qr=v($e,"WeakMap"),Fr=y(Wr),$r=y(Cn),Gr=y(Nr),Zr=y(Vr),Jr=y(qr),Hr=l;(Wr&&"[object DataView]"!=Hr(new Wr(new ArrayBuffer(1)))||Cn&&"[object Map]"!=Hr(new Cn)||Nr&&"[object Promise]"!=Hr(Nr.resolve())||Vr&&"[object Set]"!=Hr(new Vr)||qr&&"[object WeakMap]"!=Hr(new qr))&&(Hr=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?y(n):"";if(r)switch(r){case Fr:return"[object DataView]";case $r:return"[object Map]";case Gr:return"[object Promise]";case Zr:return"[object Set]";case Jr:return"[object WeakMap]"}return e});var Yr=Hr,Kr=1,Qr="[object Arguments]",Xr="[object Array]",to="[object Object]",eo=Object.prototype.hasOwnProperty,no=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),l=a.length;l--;){var u=a[t?l:++o];if(!1===n(i[u],u,i))break}return e}}(),ro=function(t,e){return function(n,r){if(null==n)return n;if(!yt(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(function(t,e){return t&&no(t,e,dt)}),oo=1,io=2,ao=1,lo=2,uo=Object.prototype.hasOwnProperty,po="object"==typeof t&&t&&!t.nodeType&&t,so=po&&"object"==typeof module&&module&&!module.nodeType&&module,co=so&&so.exports===po?$e.Buffer:void 0,fo=co?co.allocUnsafe:void 0,ho=ft(Object.getPrototypeOf,Object),yo=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)q(e,Or(t)),t=ho(t);return e}:ut,mo=Object.prototype.hasOwnProperty,vo=1,bo=/\w*$/,go=1,Eo=Ge?Ge.prototype:void 0,jo=Eo?Eo.valueOf:void 0,Oo="[object Boolean]",_o="[object Date]",wo="[object Map]",Co="[object Number]",Lo="[object RegExp]",xo="[object Set]",To="[object String]",Po="[object Symbol]",Ao="[object ArrayBuffer]",zo="[object DataView]",Io="[object Float32Array]",So="[object Float64Array]",Mo="[object Int8Array]",Ro="[object Int16Array]",Uo="[object Int32Array]",ko="[object Uint8Array]",Bo="[object Uint8ClampedArray]",Do="[object Uint16Array]",Wo="[object Uint32Array]",No=Object.create,Vo=function(){function t(){}return function(e){if(!c(e))return{};if(No)return No(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),qo=1,Fo=2,$o=4,Go="[object Arguments]",Zo="[object Function]",Jo="[object GeneratorFunction]",Ho="[object Object]",Yo={};Yo[Go]=Yo["[object Array]"]=Yo["[object ArrayBuffer]"]=Yo["[object DataView]"]=Yo["[object Boolean]"]=Yo["[object Date]"]=Yo["[object Float32Array]"]=Yo["[object Float64Array]"]=Yo["[object Int8Array]"]=Yo["[object Int16Array]"]=Yo["[object Int32Array]"]=Yo["[object Map]"]=Yo["[object Number]"]=Yo[Ho]=Yo["[object RegExp]"]=Yo["[object Set]"]=Yo["[object String]"]=Yo["[object Symbol]"]=Yo["[object Uint8Array]"]=Yo["[object Uint8ClampedArray]"]=Yo["[object Uint16Array]"]=Yo["[object Uint32Array]"]=!0,Yo["[object Error]"]=Yo[Zo]=Yo["[object WeakMap]"]=!1;var Ko=4,Qo=/^on(.+)$/i,Xo=function(t){function e(n,r){Me(this,e);var o=De(this,t.call(this,n,r));return o._leafletEvents={},o}return ke(e,t),e.prototype.componentWillMount=function(){this._leafletEvents=this.extractLeafletEvents(this.props)},e.prototype.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},e.prototype.componentWillReceiveProps=function(t){var e=this.extractLeafletEvents(t);this._leafletEvents=this.bindLeafletEvents(e,this._leafletEvents)},e.prototype.componentWillUnmount=function(){var t=this.leafletElement;t&&kt(this._leafletEvents,function(e,n){t.off(n,e)})},e.prototype.extractLeafletEvents=function(t){return Mt(dt(t),function(e,n){if(Qo.test(n)){var r=n.replace(Qo,function(t,e){return e.toLowerCase()});t[n]&&(e[r]=t[n])}return e},{})},e.prototype.bindLeafletEvents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.leafletElement;if(null==n||null==n.on)return{};var r=ue(e);return kt(e,function(e,o){t[o]&&e===t[o]||(delete r[o],n.off(o,e))}),kt(t,function(t,o){e[o]&&t===e[o]||(r[o]=t,n.on(o,t))}),r},e.prototype.fireLeafletEvent=function(t,e){var n=this.leafletElement;n&&n.fire(t,e)},e.prototype.getOptions=function(t){var e=null==t.pane?this.context.pane:t.pane;return e?Ue({},t,{pane:e}):t},e}(n.Component),ti=function(t){function e(){return Me(this,e),De(this,t.apply(this,arguments))}return ke(e,t),e.prototype.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},e.prototype.updateLeafletElement=function(t,e){},e.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props)},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},e.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},e.prototype.render=function(){var t=this.props.children;return n.Children.count(t)>1?ve.createElement("div",{style:{display:"none"}},t):null==t?null:t},Re(e,[{key:"layerContainer",get:function(){return this.context.layerContainer||this.context.map}}]),e}(Xo);ti.propTypes={children:xe},ti.contextTypes={layerContainer:Ae,map:ze,pane:_e.string};var ei=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],ni=function(t){function e(){return Me(this,e),De(this,t.apply(this,arguments))}return ke(e,t),e.prototype.componentDidUpdate=function(e){t.prototype.componentDidUpdate.call(this,e),this.setStyleIfChanged(e,this.props)},e.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},e.prototype.getPathOptions=function(t){return Xn(t,ei)},e.prototype.setStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.leafletElement.setStyle(t)},e.prototype.setStyleIfChanged=function(t,e){var n=this.getPathOptions(e);Et(n,this.getPathOptions(t))||this.setStyle(n)},e}(ti);ni.childContextTypes={children:xe,popupContainer:Pe};var ri=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){var n=t.center,r=t.radius,o=Be(t,["center","radius"]);return new e.Circle(n,r,this.getOptions(o))},n.prototype.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},n}(ni);ri.propTypes={center:we.isRequired,children:xe,radius:_e.number.isRequired};var oi=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.CircleMarker(t.center,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},n}(ni);oi.propTypes={center:we.isRequired,children:xe,radius:_e.number};var ii=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement,popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.FeatureGroup(this.getOptions(t))},n.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.setStyle(this.props)},n}(ni);ii.childContextTypes={children:xe,layerContainer:Ae,popupContainer:Pe};var ai=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.GeoJSON(t.data,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){f(e.style)?this.setStyle(e.style):this.setStyleIfChanged(t,e)},n}(ni);ai.propTypes={children:xe,data:_e.oneOfType([_e.array,_e.object]).isRequired};var li=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.GridLayer(this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){var n=e.opacity,r=e.zIndex;n!==t.opacity&&this.leafletElement.setOpacity(n),r!==t.zIndex&&this.leafletElement.setZIndex(r)},n.prototype.render=function(){return null},n}(ti);li.propTypes={children:xe,opacity:_e.number,zIndex:_e.number};var ui=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.ImageOverlay(t.url,t.bounds,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,n){n.url!==t.url&&this.leafletElement.setUrl(n.url),n.bounds!==t.bounds&&this.leafletElement.setBounds(e.latLngBounds(n.bounds)),n.opacity!==t.opacity&&this.leafletElement.setOpacity(n.opacity),n.zIndex!==t.zIndex&&this.leafletElement.setZIndex(n.zIndex)},n}(ti);ui.propTypes={attribution:_e.string,bounds:Le.isRequired,children:xe,opacity:_e.number,url:_e.string.isRequired,zIndex:_e.number},ui.childContextTypes={popupContainer:Pe};var pi=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement}},n.prototype.createLeafletElement=function(){return new e.LayerGroup(this.getOptions(this.props))},n}(ti);pi.childContextTypes={layerContainer:Ae};var si={checked:_e.bool,children:_e.node.isRequired,removeLayer:_e.func,removeLayerControl:_e.func},ci=Ue({},si,{addBaseLayer:_e.func,addOverlay:_e.func,name:_e.string.isRequired}),fi=function(t){function e(){return Me(this,e),De(this,t.apply(this,arguments))}return ke(e,t),e.prototype.getChildContext=function(){return{layerContainer:{addLayer:this.addLayer.bind(this),removeLayer:this.removeLayer.bind(this)}}},e.prototype.componentWillReceiveProps=function(t){var e=t.checked;!0!==e||null!=this.props.checked&&!1!==this.props.checked?!0!==this.props.checked||null!=e&&!1!==e||this.context.map.removeLayer(this.layer):this.context.map.addLayer(this.layer)},e.prototype.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},e.prototype.addLayer=function(){throw new Error("Must be implemented in extending class")},e.prototype.removeLayer=function(t){this.props.removeLayer(t)},e.prototype.render=function(){return this.props.children||null},e}(n.Component);fi.propTypes=si,fi.contextTypes={map:ze},fi.childContextTypes={layerContainer:Ae};var hi=function(t){function e(){return Me(this,e),De(this,t.apply(this,arguments))}return ke(e,t),e.prototype.addLayer=function(t){this.layer=t;var e=this.props,n=e.addBaseLayer,r=e.checked;n(t,e.name,r)},e}(fi);hi.propTypes=ci;var yi=function(t){function e(){return Me(this,e),De(this,t.apply(this,arguments))}return ke(e,t),e.prototype.addLayer=function(t){this.layer=t;var e=this.props,n=e.addOverlay,r=e.checked;n(t,e.name,r)},e}(fi);yi.propTypes=ci;var di=function(t){function r(){return Me(this,r),De(this,t.apply(this,arguments))}return ke(r,t),r.prototype.createLeafletElement=function(t){t.children;var n=Be(t,["children"]);return new e.Control.Layers(void 0,void 0,n)},r.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.controlProps={addBaseLayer:this.addBaseLayer.bind(this),addOverlay:this.addOverlay.bind(this),removeLayer:this.removeLayer.bind(this),removeLayerControl:this.removeLayerControl.bind(this)}},r.prototype.componentWillUnmount=function(){var e=this;setTimeout(function(){t.prototype.componentWillUnmount.call(e)},0)},r.prototype.addBaseLayer=function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.context.map.addLayer(t),this.leafletElement.addBaseLayer(t,e)},r.prototype.addOverlay=function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.context.map.addLayer(t),this.leafletElement.addOverlay(t,e)},r.prototype.removeLayer=function(t){this.context.map.removeLayer(t)},r.prototype.removeLayerControl=function(t){this.leafletElement.removeLayer(t)},r.prototype.render=function(){var t=this,e=n.Children.map(this.props.children,function(e){return e?n.cloneElement(e,t.controlProps):null});return ve.createElement("div",{style:{display:"none"}},e)},r}(We);di.propTypes={baseLayers:_e.object,children:xe,overlays:_e.object,position:Te},di.contextTypes={layerContainer:Ae,map:ze},di.BaseLayer=hi,di.Overlay=yi;var mi="[object Object]",vi=Function.prototype,bi=Object.prototype,gi=vi.toString,Ei=bi.hasOwnProperty,ji=gi.call(Object),Oi=K(function(t,e){var n={};if(null==t)return n;var r=!1;e=L(e,function(e){return e=P(e,t),r||(r=e.length>1),e}),Bt(t,Jt(t),n),r&&(n=le(n,7,ye));for(var o=e.length;o--;)fe(n,e[o]);return n}),_i=["children","className","id","style","useFlyTo","whenReady"],wi=function(t){return Array.isArray(t)?[t[0],t[1]]:[t.lat,t.lon?t.lon:t.lng]},Ci=function(t){function n(e,r){Me(this,n);var o=De(this,t.call(this,e,r));return o.viewport={center:void 0,zoom:void 0},o._updating=!1,o.onViewportChange=function(){var t=o.leafletElement.getCenter();o.viewport={center:t?[t.lat,t.lng]:void 0,zoom:o.leafletElement.getZoom()},o.props.onViewportChange&&!o._updating&&o.props.onViewportChange(o.viewport)},o.onViewportChanged=function(){o.props.onViewportChanged&&!o._updating&&o.props.onViewportChanged(o.viewport)},o.bindContainer=function(t){o.container=t},o.className=e.className,o}return ke(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement,map:this.leafletElement}},n.prototype.createLeafletElement=function(t){var n=t.viewport,r=Be(t,["viewport"]);return n&&(n.center&&(r.center=n.center),"number"==typeof n.zoom&&(r.zoom=n.zoom)),new e.Map(this.container,r)},n.prototype.updateLeafletElement=function(t,n){this._updating=!0;var r=n.animate,o=n.bounds,i=n.boundsOptions,a=n.center,l=n.className,u=n.maxBounds,p=n.useFlyTo,s=n.viewport,c=n.zoom;if(l!==t.className&&(null!=t.className&&e.DomUtil.removeClass(this.container,t.className),null!=l&&e.DomUtil.addClass(this.container,l)),s&&s!==t.viewport){var f=s.center?s.center:a,h=null==s.zoom?c:s.zoom;!0===p?this.leafletElement.flyTo(f,h,{animate:r}):this.leafletElement.setView(f,h,{animate:r})}else a&&this.shouldUpdateCenter(a,t.center)?!0===p?this.leafletElement.flyTo(a,c,{animate:r}):this.leafletElement.setView(a,c,{animate:r}):"number"==typeof c&&c!==t.zoom&&(null==t.zoom?this.leafletElement.setView(a,c):this.leafletElement.setZoom(c));u&&this.shouldUpdateBounds(u,t.maxBounds)&&this.leafletElement.setMaxBounds(u),o&&(this.shouldUpdateBounds(o,t.bounds)||i!==t.boundsOptions)&&(!0===p?this.leafletElement.flyToBounds(o,i):this.leafletElement.fitBounds(o,i)),this._updating=!1},n.prototype.componentDidMount=function(){var e=Oi(this.props,_i);this.leafletElement=this.createLeafletElement(e),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),de(e.bounds)||this.leafletElement.fitBounds(e.bounds,e.boundsOptions),this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady),t.prototype.componentDidMount.call(this),this.forceUpdate()},n.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},n.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),this.leafletElement.remove()},n.prototype.shouldUpdateCenter=function(t,e){return!e||(t=wi(t),e=wi(e),t[0]!==e[0]||t[1]!==e[1])},n.prototype.shouldUpdateBounds=function(t,n){return!n||!e.latLngBounds(t).equals(e.latLngBounds(n))},n.prototype.render=function(){var t=this.leafletElement?this.props.children:null;return ve.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},t)},n}(Xo);Ci.propTypes={animate:_e.bool,bounds:Le,boundsOptions:_e.object,center:we,children:xe,className:_e.string,id:_e.string,maxBounds:Le,maxZoom:_e.number,minZoom:_e.number,style:_e.object,useFlyTo:_e.bool,viewport:Ie,whenReady:_e.func,zoom:_e.number},Ci.childContextTypes={layerContainer:Ae,map:ze};var Li=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.Marker(t.position,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setLatLng(e.position),e.icon!==t.icon&&this.leafletElement.setIcon(e.icon),e.zIndexOffset!==t.zIndexOffset&&this.leafletElement.setZIndexOffset(e.zIndexOffset),e.opacity!==t.opacity&&this.leafletElement.setOpacity(e.opacity),e.draggable!==t.draggable&&(!0===e.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},n}(ti);Li.propTypes={children:xe,draggable:_e.bool,icon:_e.instanceOf(e.Icon),opacity:_e.number,position:we.isRequired,zIndexOffset:_e.number},Li.childContextTypes={popupContainer:Pe};var xi=0,Ti=["tile","shadow","overlay","map","marker","tooltip","popup"],Pi=function(t){return-1!==Ti.indexOf(t.replace(/-*pane/gi,""))},Ai={position:"absolute",top:0,right:0,bottom:0,left:0},zi=function(t){function e(){var n,r,o;Me(this,e);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=r=De(this,t.call.apply(t,[this].concat(a))),r.state={name:void 0},r.setStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props,e=t.style,n=t.className,o=r.getPane(r.state.name);o&&(n&&o.classList.add(n),e&&kt(e,function(t,e){o.style[e]=t}))},o=n,De(r,o)}return ke(e,t),e.prototype.getChildContext=function(){return{pane:this.state.name}},e.prototype.componentDidMount=function(){this.createPane(this.props)},e.prototype.componentWillReceiveProps=function(t){if(this.state.name)if(t.name!==this.props.name)this.removePane(),this.createPane(t);else{if(this.props.className&&t.className!==this.props.className){var e=this.getPane();e&&this.props.className&&e.classList.remove(this.props.className)}this.setStyle(t)}},e.prototype.componentWillUnmount=function(){this.removePane()},e.prototype.createPane=function(t){var e=this.context.map,n=t.name||"pane-"+me();e&&e.createPane&&(Pi(n)||this.getPane(n)||e.createPane(n,this.getParentPane()),this.setState({name:n},this.setStyle))},e.prototype.removePane=function(){var t=this.state.name;if(t){var e=this.getPane(t);e&&e.remove&&e.remove();var n=this.context.map;n&&n._panes&&(n._panes=Oi(n._panes,t),n._paneRenderers=Oi(n._paneRenderers,t)),this.setState({name:void 0})}},e.prototype.getParentPane=function(){return this.getPane(this.props.pane||this.context.pane)},e.prototype.getPane=function(t){return t?this.context.map.getPane(t):void 0},e.prototype.render=function(){return this.state.name?ve.createElement("div",{style:Ai},this.props.children):null},e}(n.Component);zi.propTypes={name:_e.string,children:xe,map:ze,className:_e.string,style:_e.object,pane:_e.string},zi.contextTypes={map:ze,pane:_e.string},zi.childContextTypes={pane:_e.string};var Ii=_e.arrayOf(Ce),Si=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.Polygon(t.positions,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},n}(ni);Si.propTypes={children:xe,positions:_e.oneOfType([Ce,Ii,_e.arrayOf(Ii)]).isRequired};var Mi=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.Polyline(t.positions,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},n}(ni);Mi.propTypes={children:xe,positions:_e.oneOfType([Ce,_e.arrayOf(Ce)]).isRequired};var Ri=function(t){function o(){var e,i,a;Me(this,o);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return e=i=De(this,t.call.apply(t,[this].concat(u))),i.onPopupOpen=function(t){t.popup===i.leafletElement&&(i.renderPopupContent(),i.props.onOpen&&i.props.onOpen())},i.onPopupClose=function(t){t.popup===i.leafletElement&&(i.removePopupContent(),i.props.onClose&&i.props.onClose())},i.renderPopupContent=function(){null==i.props.children?i.removePopupContent():(r.render(n.Children.only(i.props.children),i.leafletElement._contentNode),i.leafletElement.update(),!1!==i.props.autoPan&&(i.leafletElement._map&&i.leafletElement._map._panAnim&&(i.leafletElement._map._panAnim=void 0),i.leafletElement._adjustPan()))},i.removePopupContent=function(){i.leafletElement._contentNode&&r.unmountComponentAtNode(i.leafletElement._contentNode)},a=e,De(i,a)}return ke(o,t),o.prototype.getOptions=function(e){return Ue({},t.prototype.getOptions.call(this,e),{autoPan:!1})},o.prototype.createLeafletElement=function(t){return new e.Popup(this.getOptions(t),this.context.popupContainer)},o.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setLatLng(e.position)},o.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props),this.leafletElement.options.autoPan=!1!==this.props.autoPan,this.context.map.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose})},o.prototype.componentDidMount=function(){var t=this.props.position,e=this.context,n=e.map,r=e.popupContainer,o=this.leafletElement;r?r.bindPopup(o):(t&&o.setLatLng(t),o.openOn(n))},o.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props),this.leafletElement.isOpen()&&this.renderPopupContent()},o.prototype.componentWillUnmount=function(){this.removePopupContent(),this.context.map.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),this.context.map.removeLayer(this.leafletElement),t.prototype.componentWillUnmount.call(this)},o.prototype.render=function(){return null},o}(Xo);Ri.propTypes={children:_e.node,onClose:_e.func,onOpen:_e.func,position:we},Ri.contextTypes={map:ze,popupContainer:Pe,pane:_e.string};var Ui=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.Rectangle(t.bounds,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.bounds!==t.bounds&&this.leafletElement.setBounds(e.bounds),this.setStyleIfChanged(t,e)},n}(ni);Ui.propTypes={children:xe,bounds:Le.isRequired};var ki=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Scale(t)},n}(We);ki.propTypes={imperial:_e.bool,maxWidth:_e.number,metric:_e.bool,position:Te,updateWhenIdle:_e.bool};var Bi=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.TileLayer(t.url,this.getOptions(t))},n.prototype.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n),n.url!==e.url&&this.leafletElement.setUrl(n.url)},n}(li);Bi.propTypes={children:xe,opacity:_e.number,url:_e.string.isRequired,zIndex:_e.number};var Di=function(t){function o(){var e,i,a;Me(this,o);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return e=i=De(this,t.call.apply(t,[this].concat(u))),i.onTooltipOpen=function(t){t.tooltip===i.leafletElement&&(i.renderTooltipContent(),i.props.onOpen&&i.props.onOpen())},i.onTooltipClose=function(t){t.tooltip===i.leafletElement&&(i.removeTooltipContent(),i.props.onClose&&i.props.onClose())},i.renderTooltipContent=function(){null==i.props.children?i.removeTooltipContent():(r.render(n.Children.only(i.props.children),i.leafletElement._contentNode),i.leafletElement.update())},i.removeTooltipContent=function(){i.leafletElement._contentNode&&r.unmountComponentAtNode(i.leafletElement._contentNode)},a=e,De(i,a)}return ke(o,t),o.prototype.createLeafletElement=function(t){return new e.Tooltip(this.getOptions(t),this.context.popupContainer)},o.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props),this.context.popupContainer.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose})},o.prototype.componentDidMount=function(){this.context.popupContainer.bindTooltip(this.leafletElement)},o.prototype.componentDidUpdate=function(){this.leafletElement.isOpen()&&this.renderTooltipContent()},o.prototype.componentWillUnmount=function(){this.context.popupContainer.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),this.context.map.removeLayer(this.leafletElement),t.prototype.componentWillUnmount.call(this)},o.prototype.render=function(){return null},o}(Xo);Di.propTypes={children:_e.node,onClose:_e.func,onOpen:_e.func},Di.contextTypes={map:ze,popupContainer:Pe,pane:_e.string};var Wi=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.VideoOverlay(t.url,t.bounds,this.getOptions(t))},n.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),!0===this.props.play&&this.leafletElement.getElement().play()},n.prototype.updateLeafletElement=function(t,n){n.url!==t.url&&this.leafletElement.setUrl(n.url),n.bounds!==t.bounds&&this.leafletElement.setBounds(e.latLngBounds(n.bounds)),n.opacity!==t.opacity&&this.leafletElement.setOpacity(n.opacity),n.zIndex!==t.zIndex&&this.leafletElement.setZIndex(n.zIndex),!0!==n.play||t.play?n.play||!0!==t.play||this.leafletElement.getElement().pause():this.leafletElement.getElement().play()},n}(ti);Wi.propTypes={attribution:_e.string,bounds:Le.isRequired,opacity:_e.number,play:_e.bool,url:_e.oneOfType([_e.string,_e.arrayOf(_e.string),_e.instanceOf(HTMLVideoElement)]).isRequired,zIndex:_e.number};var Ni=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){var n=t.url,r=(t.opacity,t.zIndex,Be(t,["url","opacity","zIndex"]));return new e.TileLayer.WMS(n,this.getOptions(r))},n.prototype.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n);var r=e.url,o=(e.opacity,e.zIndex,Be(e,["url","opacity","zIndex"])),i=n.url,a=(n.opacity,n.zIndex,Be(n,["url","opacity","zIndex"]));i!==r&&this.leafletElement.setUrl(i),Et(a,o)||this.leafletElement.setParams(a)},n.prototype.getOptions=function(e){return Mt(t.prototype.getOptions.call(this,e),function(t,e,n){return Qo.test(n)||(t[n]=e),t},{})},n}(li);Ni.propTypes={children:xe,opacity:_e.number,url:_e.string.isRequired,zIndex:_e.number};var Vi=function(t){function n(){return Me(this,n),De(this,t.apply(this,arguments))}return ke(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Zoom(t)},n}(We);Vi.propTypes={position:Te,zoomInText:_e.string,zoomInTitle:_e.string,zoomOutText:_e.string,zoomOutTitle:_e.string},t.PropTypes=Se,t.AttributionControl=Ne,t.Circle=ri,t.CircleMarker=oi,t.FeatureGroup=ii,t.GeoJSON=ai,t.GridLayer=li,t.ImageOverlay=ui,t.LayerGroup=pi,t.LayersControl=di,t.Map=Ci,t.MapComponent=Xo,t.MapControl=We,t.MapLayer=ti,t.Marker=Li,t.Pane=zi,t.Path=ni,t.Polygon=Si,t.Polyline=Mi,t.Popup=Ri,t.Rectangle=Ui,t.ScaleControl=ki,t.TileLayer=Bi,t.Tooltip=Di,t.VideoOverlay=Wi,t.WMSTileLayer=Ni,t.ZoomControl=Vi,Object.defineProperty(t,"__esModule",{value:!0})});
